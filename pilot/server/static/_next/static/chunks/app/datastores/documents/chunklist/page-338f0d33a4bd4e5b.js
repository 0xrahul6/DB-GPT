(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4538],{90545:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(40431),o=r(46750),a=r(86006),i=r(73702),l=r(4323),s=r(51579),c=r(86601),u=r(95887),d=r(9268);let p=["className","component"];var h=r(47327),f=r(98918),m=r(8622);let g=function(e={}){let{themeId:t,defaultTheme:r,defaultClassName:h="MuiBox-root",generateClassName:f}=e,m=(0,l.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(s.Z),g=a.forwardRef(function(e,a){let l=(0,u.Z)(r),s=(0,c.Z)(e),{className:g,component:y="div"}=s,v=(0,o.Z)(s,p);return(0,d.jsx)(m,(0,n.Z)({as:y,ref:a,className:(0,i.Z)(g,f?f(h):h),theme:t&&l[t]||l},v))});return g}({themeId:m.Z,defaultTheme:f.Z,defaultClassName:"MuiBox-root",generateClassName:h.Z.generate});var y=g},80937:function(e,t,r){"use strict";r.d(t,{Z:function(){return D}});var n=r(46750),o=r(40431),a=r(86006),i=r(73702),l=r(95135),s=r(47562),c=r(13809),u=r(96263),d=r(38295),p=r(86601),h=r(89587),f=r(91559),m=r(48527),g=r(9268);let y=["component","direction","spacing","divider","children","className","useFlexGap"],v=(0,h.Z)(),Z=(0,u.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function x(e){return(0,d.Z)({props:e,name:"MuiStack",defaultTheme:v})}let j=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],b=({ownerState:e,theme:t})=>{let r=(0,o.Z)({display:"flex",flexDirection:"column"},(0,f.k9)({theme:t},(0,f.P$)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let n=(0,m.hB)(t),o=Object.keys(t.breakpoints.values).reduce((t,r)=>(("object"==typeof e.spacing&&null!=e.spacing[r]||"object"==typeof e.direction&&null!=e.direction[r])&&(t[r]=!0),t),{}),a=(0,f.P$)({values:e.direction,base:o}),i=(0,f.P$)({values:e.spacing,base:o});"object"==typeof a&&Object.keys(a).forEach((e,t,r)=>{let n=a[e];if(!n){let n=t>0?a[r[t-1]]:"column";a[e]=n}}),r=(0,l.Z)(r,(0,f.k9)({theme:t},i,(t,r)=>e.useFlexGap?{gap:(0,m.NA)(n,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${j(r?a[r]:e.direction)}`]:(0,m.NA)(n,t)}}))}return(0,f.dt)(t.breakpoints,r)};var P=r(50645),S=r(88930);let k=function(e={}){let{createStyledComponent:t=Z,useThemeProps:r=x,componentName:l="MuiStack"}=e,u=()=>(0,s.Z)({root:["root"]},e=>(0,c.Z)(l,e),{}),d=t(b),h=a.forwardRef(function(e,t){let l=r(e),s=(0,p.Z)(l),{component:c="div",direction:h="column",spacing:f=0,divider:m,children:v,className:Z,useFlexGap:x=!1}=s,j=(0,n.Z)(s,y),b=u();return(0,g.jsx)(d,(0,o.Z)({as:c,ownerState:{direction:h,spacing:f,useFlexGap:x},ref:t,className:(0,i.Z)(b.root,Z)},j,{children:m?function(e,t){let r=a.Children.toArray(e).filter(Boolean);return r.reduce((e,n,o)=>(e.push(n),o<r.length-1&&e.push(a.cloneElement(t,{key:`separator-${o}`})),e),[])}(v,m):v}))});return h}({createStyledComponent:(0,P.Z)("div",{name:"JoyStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,S.Z)({props:e,name:"JoyStack"})});var D=k},22046:function(e,t,r){"use strict";r.d(t,{eu:function(){return x},FR:function(){return Z},ZP:function(){return w}});var n=r(46750),o=r(40431),a=r(86006),i=r(53832),l=r(44542),s=r(86601),c=r(47562),u=r(50645),d=r(88930),p=r(47093),h=r(326),f=r(18587);function m(e){return(0,f.d6)("MuiTypography",e)}(0,f.sI)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","body1","body2","body3","noWrap","gutterBottom","startDecorator","endDecorator","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]);var g=r(9268);let y=["color","textColor"],v=["component","gutterBottom","noWrap","level","levelMapping","children","endDecorator","startDecorator","variant","slots","slotProps"],Z=a.createContext(!1),x=a.createContext(!1),j=e=>{let{gutterBottom:t,noWrap:r,level:n,color:o,variant:a}=e,l={root:["root",n,t&&"gutterBottom",r&&"noWrap",o&&`color${(0,i.Z)(o)}`,a&&`variant${(0,i.Z)(a)}`],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return(0,c.Z)(l,m,{})},b=(0,u.Z)("span",{name:"JoyTypography",slot:"StartDecorator",overridesResolver:(e,t)=>t.startDecorator})(({ownerState:e})=>{var t;return(0,o.Z)({display:"inline-flex",marginInlineEnd:"clamp(4px, var(--Typography-gap, 0.375em), 0.75rem)"},"string"!=typeof e.startDecorator&&("flex-start"===e.alignItems||(null==(t=e.sx)?void 0:t.alignItems)==="flex-start")&&{marginTop:"2px"})}),P=(0,u.Z)("span",{name:"JoyTypography",slot:"endDecorator",overridesResolver:(e,t)=>t.endDecorator})(({ownerState:e})=>{var t;return(0,o.Z)({display:"inline-flex",marginInlineStart:"clamp(4px, var(--Typography-gap, 0.375em), 0.75rem)"},"string"!=typeof e.endDecorator&&("flex-start"===e.alignItems||(null==(t=e.sx)?void 0:t.alignItems)==="flex-start")&&{marginTop:"2px"})}),S=(0,u.Z)("span",{name:"JoyTypography",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>{var r,n,a,i;return(0,o.Z)({"--Icon-fontSize":"1.25em",margin:"var(--Typography-margin, 0px)"},t.nesting?{display:"inline"}:{fontFamily:e.vars.fontFamily.body,display:"block"},(t.startDecorator||t.endDecorator)&&(0,o.Z)({display:"flex",alignItems:"center"},t.nesting&&(0,o.Z)({display:"inline-flex"},t.startDecorator&&{verticalAlign:"bottom"})),t.level&&"inherit"!==t.level&&e.typography[t.level],{fontSize:`var(--Typography-fontSize, ${t.level&&"inherit"!==t.level&&null!=(r=null==(n=e.typography[t.level])?void 0:n.fontSize)?r:"inherit"})`},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.color&&"context"!==t.color&&{color:`rgba(${null==(a=e.vars.palette[t.color])?void 0:a.mainChannel} / 1)`},t.variant&&(0,o.Z)({borderRadius:e.vars.radius.xs,paddingBlock:"min(0.15em, 4px)",paddingInline:"0.375em"},!t.nesting&&{marginInline:"-0.375em"},null==(i=e.variants[t.variant])?void 0:i[t.color]))}),k={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",display1:"h1",display2:"h2",body1:"p",body2:"p",body3:"span",body4:"span",body5:"span",inherit:"p"},D=a.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"JoyTypography"}),{color:i,textColor:c}=r,u=(0,n.Z)(r,y),f=a.useContext(Z),m=a.useContext(x),D=(0,s.Z)((0,o.Z)({},u,{color:c})),{component:w,gutterBottom:C=!1,noWrap:N=!1,level:T="body1",levelMapping:R={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",body1:"p",body2:"p",body3:"p",inherit:"p"},children:_,endDecorator:I,startDecorator:O,variant:z,slots:B={},slotProps:E={}}=D,J=(0,n.Z)(D,v),{getColor:M}=(0,p.VT)(z),$=M(e.color,z?null!=i?i:"neutral":i),A=f||m?e.level||"inherit":T,F=w||(f?"span":R[A]||k[A]||"span"),W=(0,o.Z)({},D,{level:A,component:F,color:$,gutterBottom:C,noWrap:N,nesting:f,variant:z}),K=j(W),G=(0,o.Z)({},J,{component:F,slots:B,slotProps:E}),[L,U]=(0,h.Z)("root",{ref:t,className:K.root,elementType:S,externalForwardedProps:G,ownerState:W}),[V,q]=(0,h.Z)("startDecorator",{className:K.startDecorator,elementType:b,externalForwardedProps:G,ownerState:W}),[H,Q]=(0,h.Z)("endDecorator",{className:K.endDecorator,elementType:P,externalForwardedProps:G,ownerState:W});return(0,g.jsx)(Z.Provider,{value:!0,children:(0,g.jsxs)(L,(0,o.Z)({},U,{children:[O&&(0,g.jsx)(V,(0,o.Z)({},q,{children:O})),(0,l.Z)(_,["Skeleton"])?a.cloneElement(_,{variant:_.props.variant||"inline"}):_,I&&(0,g.jsx)(H,(0,o.Z)({},Q,{children:I}))]}))})});var w=D},86601:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(40431),o=r(46750),a=r(95135),i=r(2272);let l=["sx"],s=e=>{var t,r;let n={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(r=e.theme)?void 0:r.unstable_sxConfig)?t:i.Z;return Object.keys(e).forEach(t=>{o[t]?n.systemProps[t]=e[t]:n.otherProps[t]=e[t]}),n};function c(e){let t;let{sx:r}=e,i=(0,o.Z)(e,l),{systemProps:c,otherProps:u}=s(i);return t=Array.isArray(r)?[c,...r]:"function"==typeof r?(...e)=>{let t=r(...e);return(0,a.P)(t)?(0,n.Z)({},c,t):c}:(0,n.Z)({},c,r),(0,n.Z)({},u,{sx:t})}},96263:function(e,t,r){"use strict";var n=r(9312);let o=(0,n.ZP)();t.Z=o},3146:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(86006);function o(){let[,e]=n.useReducer(e=>e+1,0);return e}},30976:function(e,t,r){Promise.resolve().then(r.bind(r,26257))},26257:function(e,t,r){"use strict";r.r(t);var n=r(9268),o=r(56008),a=r(86006),i=r(78635),l=r(90545),s=r(80937),c=r(44334),u=r(311),d=r(22046),p=r(83192),h=r(23910),f=r(90734),m=r(89749);t.default=()=>{let e=(0,o.useRouter)(),{mode:t}=(0,i.tv)(),r=(0,o.useSearchParams)().get("spacename"),g=(0,o.useSearchParams)().get("documentid"),[y,v]=(0,a.useState)(0),[Z,x]=(0,a.useState)(0),[j,b]=(0,a.useState)([]);return(0,a.useEffect)(()=>{(async function(){let e=await (0,m.PR)("/knowledge/".concat(r,"/chunk/list"),{document_id:g,page:1,page_size:20});e.success&&(b(e.data.data),v(e.data.total),x(e.data.page))})()},[]),(0,n.jsxs)(l.Z,{className:"p-4",sx:{"&":{height:"90%"}},children:[(0,n.jsx)(s.Z,{direction:"row",justifyContent:"flex-start",alignItems:"center",sx:{marginBottom:"20px"},children:(0,n.jsxs)(c.Z,{"aria-label":"breadcrumbs",children:[(0,n.jsx)(u.Z,{onClick:()=>{e.push("/datastores")},underline:"hover",color:"neutral",fontSize:"inherit",children:"Knowledge Space"},"Knowledge Space"),(0,n.jsx)(u.Z,{onClick:()=>{e.push("/datastores/documents?name=".concat(r))},underline:"hover",color:"neutral",fontSize:"inherit",children:"Documents"},"Knowledge Space"),(0,n.jsx)(d.ZP,{fontSize:"inherit",children:"Chunks"})]})}),(0,n.jsx)(l.Z,{className:"p-4",sx:{"&":{height:"90%",overflow:"auto"},"&::-webkit-scrollbar":{display:"none"}},children:j.length?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(p.Z,{color:"primary",variant:"plain",size:"lg",sx:{"& tbody tr: hover":{backgroundColor:"light"===t?"rgb(246, 246, 246)":"rgb(33, 33, 40)"},"& tbody tr: hover a":{textDecoration:"underline"}},children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Name"}),(0,n.jsx)("th",{children:"Content"}),(0,n.jsx)("th",{children:"Meta Data"})]})}),(0,n.jsx)("tbody",{children:j.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.doc_name}),(0,n.jsx)("td",{children:(0,n.jsx)(h.Z,{content:e.content,trigger:"hover",children:e.content.length>10?"".concat(e.content.slice(0,10),"..."):e.content})}),(0,n.jsx)("td",{children:(0,n.jsx)(h.Z,{content:JSON.stringify(e.meta_info||"{}",null,2),trigger:"hover",children:e.meta_info.length>10?"".concat(e.meta_info.slice(0,10),"..."):e.meta_info})})]},e.id))})]})}):(0,n.jsx)(n.Fragment,{})}),(0,n.jsx)(s.Z,{direction:"row",justifyContent:"flex-end",sx:{marginTop:"20px"},children:(0,n.jsx)(f.Z,{defaultPageSize:20,showSizeChanger:!1,current:Z,total:y,onChange:async e=>{let t=await (0,m.PR)("/knowledge/".concat(r,"/chunk/list"),{document_id:g,page:e,page_size:20});t.success&&(b(t.data.data),v(t.data.total),x(t.data.page))},hideOnSinglePage:!0})})]})}},53534:function(e,t,r){"use strict";var n=r(24214);let o=n.Z.create({baseURL:"http://127.0.0.1:5000"});o.defaults.timeout=1e4,o.interceptors.response.use(e=>e.data,e=>Promise.reject(e)),t.Z=o},89749:function(e,t,r){"use strict";r.d(t,{Ej:function(){return d},Kw:function(){return c},PR:function(){return u},Tk:function(){return s}});var n=r(21628),o=r(53534),a=r(84835);let i={"content-type":"application/json"},l=e=>{if(!(0,a.isPlainObject)(e))return JSON.stringify(e);let t={...e};for(let e in t){let r=t[e];"string"==typeof r&&(t[e]=r.trim())}return JSON.stringify(t)},s=(e,t)=>{if(t){let r=Object.keys(t).filter(e=>void 0!==t[e]&&""!==t[e]).map(e=>"".concat(e,"=").concat(t[e])).join("&");r&&(e+="?".concat(r))}return o.Z.get("/api"+e,{headers:i}).then(e=>e).catch(e=>{n.ZP.error(e),Promise.reject(e)})},c=(e,t)=>{let r=l(t);return o.Z.post("/api"+e,{body:r,headers:i}).then(e=>e).catch(e=>{n.ZP.error(e),Promise.reject(e)})},u=(e,t)=>o.Z.post(e,t,{headers:i}).then(e=>e).catch(e=>{n.ZP.error(e),Promise.reject(e)}),d=(e,t)=>o.Z.post(e,t).then(e=>e).catch(e=>{n.ZP.error(e),Promise.reject(e)})},56008:function(e,t,r){e.exports=r(30794)},73702:function(e,t,r){"use strict";t.Z=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,n,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t){if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(n=e(t[r]))&&(o&&(o+=" "),o+=n);else for(r in t)t[r]&&(o&&(o+=" "),o+=r)}return o}(e))&&(n&&(n+=" "),n+=t);return n}}},function(e){e.O(0,[2180,4518,8358,4344,1191,2569,9743,1767,8635,5548,9253,5769,1744],function(){return e(e.s=30976)}),_N_E=e.O()}]);