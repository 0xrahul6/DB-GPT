(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{90545:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var o=r(40431),n=r(46750),a=r(86006),i=r(89791),l=r(4323),s=r(51579),c=r(86601),d=r(95887),u=r(9268);let v=["className","component"];var m=r(47327),g=r(98918);let f=function(e={}){let{themeId:t,defaultTheme:r,defaultClassName:m="MuiBox-root",generateClassName:g}=e,f=(0,l.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(s.Z),p=a.forwardRef(function(e,a){let l=(0,d.Z)(r),s=(0,c.Z)(e),{className:p,component:h="div"}=s,x=(0,n.Z)(s,v);return(0,u.jsx)(f,(0,o.Z)({as:h,ref:a,className:(0,i.Z)(p,g?g(m):m),theme:t&&l[t]||l},x))});return p}({defaultTheme:g.Z,defaultClassName:"MuiBox-root",generateClassName:m.Z.generate});var p=f},53113:function(e,t,r){"use strict";var o=r(46750),n=r(40431),a=r(86006),i=r(46319),l=r(47562),s=r(53832),c=r(99179),d=r(50645),u=r(88930),v=r(47093),m=r(326),g=r(94244),f=r(77614),p=r(9268);let h=["children","action","color","variant","size","fullWidth","startDecorator","endDecorator","loading","loadingPosition","loadingIndicator","disabled"],x=e=>{let{color:t,disabled:r,focusVisible:o,focusVisibleClassName:n,fullWidth:a,size:i,variant:c,loading:d}=e,u={root:["root",r&&"disabled",o&&"focusVisible",a&&"fullWidth",c&&`variant${(0,s.Z)(c)}`,t&&`color${(0,s.Z)(t)}`,i&&`size${(0,s.Z)(i)}`,d&&"loading"],startDecorator:["startDecorator"],endDecorator:["endDecorator"],loadingIndicatorCenter:["loadingIndicatorCenter"]},v=(0,l.Z)(u,f.F,{});return o&&n&&(v.root+=` ${n}`),v},y=(0,d.Z)("span",{name:"JoyButton",slot:"StartDecorator",overridesResolver:(e,t)=>t.startDecorator})({"--Icon-margin":"0 0 0 calc(var(--Button-gap) / -2)","--CircularProgress-margin":"0 0 0 calc(var(--Button-gap) / -2)",display:"inherit",marginRight:"var(--Button-gap)"}),Z=(0,d.Z)("span",{name:"JoyButton",slot:"EndDecorator",overridesResolver:(e,t)=>t.endDecorator})({"--Icon-margin":"0 calc(var(--Button-gap) / -2) 0 0","--CircularProgress-margin":"0 calc(var(--Button-gap) / -2) 0 0",display:"inherit",marginLeft:"var(--Button-gap)"}),b=(0,d.Z)("span",{name:"JoyButton",slot:"LoadingCenter",overridesResolver:(e,t)=>t.loadingIndicatorCenter})(({theme:e,ownerState:t})=>{var r,o,a,i;return(0,n.Z)({display:"inherit",position:"absolute",left:"50%",transform:"translateX(-50%)",color:null==(r=e.variants[t.variant])?void 0:null==(o=r[t.color])?void 0:o.color},t.disabled&&{color:null==(a=e.variants[`${t.variant}Disabled`])?void 0:null==(i=a[t.color])?void 0:i.color})}),j=(0,d.Z)("button",{name:"JoyButton",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>{var r,o,a,i;return[(0,n.Z)({"--Icon-margin":"initial"},"sm"===t.size&&{"--Icon-fontSize":"1.25rem","--CircularProgress-size":"20px","--Button-gap":"0.375rem",minHeight:"var(--Button-minHeight, 2rem)",fontSize:e.vars.fontSize.sm,paddingBlock:"2px",paddingInline:"0.75rem"},"md"===t.size&&{"--Icon-fontSize":"1.5rem","--CircularProgress-size":"24px","--Button-gap":"0.5rem",minHeight:"var(--Button-minHeight, 2.5rem)",fontSize:e.vars.fontSize.sm,paddingBlock:"0.25rem",paddingInline:"1rem"},"lg"===t.size&&{"--Icon-fontSize":"1.75rem","--CircularProgress-size":"28px","--Button-gap":"0.75rem",minHeight:"var(--Button-minHeight, 3rem)",fontSize:e.vars.fontSize.md,paddingBlock:"0.375rem",paddingInline:"1.5rem"},{WebkitTapHighlightColor:"transparent",borderRadius:`var(--Button-radius, ${e.vars.radius.sm})`,margin:"var(--Button-margin)",border:"none",backgroundColor:"transparent",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",textDecoration:"none",fontFamily:e.vars.fontFamily.body,fontWeight:e.vars.fontWeight.lg,lineHeight:1},t.fullWidth&&{width:"100%"},{[e.focus.selector]:e.focus.default}),null==(r=e.variants[t.variant])?void 0:r[t.color],{"&:hover":null==(o=e.variants[`${t.variant}Hover`])?void 0:o[t.color]},{"&:active":null==(a=e.variants[`${t.variant}Active`])?void 0:a[t.color]},(0,n.Z)({[`&.${f.Z.disabled}`]:null==(i=e.variants[`${t.variant}Disabled`])?void 0:i[t.color]},"center"===t.loadingPosition&&{[`&.${f.Z.loading}`]:{color:"transparent"}})]}),_=a.forwardRef(function(e,t){let r=(0,u.Z)({props:e,name:"JoyButton"}),{children:l,action:s,color:d="primary",variant:f="solid",size:_="md",fullWidth:B=!1,startDecorator:P,endDecorator:w,loading:C=!1,loadingPosition:S="center",loadingIndicator:I,disabled:z}=r,N=(0,o.Z)(r,h),{getColor:D}=(0,v.VT)(f),k=D(e.color,d),R=a.useRef(null),O=(0,c.Z)(R,t),{focusVisible:F,setFocusVisible:$,getRootProps:T}=(0,i.Z)((0,n.Z)({},r,{disabled:z||C,ref:O})),H=null!=I?I:(0,p.jsx)(g.Z,(0,n.Z)({},"context"!==k&&{color:k},{thickness:{sm:2,md:3,lg:4}[_]||3}));a.useImperativeHandle(s,()=>({focusVisible:()=>{var e;$(!0),null==(e=R.current)||e.focus()}}),[$]);let E=(0,n.Z)({},r,{color:k,fullWidth:B,variant:f,size:_,focusVisible:F,loading:C,loadingPosition:S,disabled:z||C}),W=x(E),[L,J]=(0,m.Z)("root",{ref:t,className:W.root,elementType:j,externalForwardedProps:N,getSlotProps:T,ownerState:E}),[M,V]=(0,m.Z)("startDecorator",{className:W.startDecorator,elementType:y,externalForwardedProps:N,ownerState:E}),[K,A]=(0,m.Z)("endDecorator",{className:W.endDecorator,elementType:Z,externalForwardedProps:N,ownerState:E}),[U,q]=(0,m.Z)("loadingIndicatorCenter",{className:W.loadingIndicatorCenter,elementType:b,externalForwardedProps:N,ownerState:E});return(0,p.jsxs)(L,(0,n.Z)({},J,{children:[(P||C&&"start"===S)&&(0,p.jsx)(M,(0,n.Z)({},V,{children:C&&"start"===S?H:P})),l,C&&"center"===S&&(0,p.jsx)(U,(0,n.Z)({},q,{children:H})),(w||C&&"end"===S)&&(0,p.jsx)(K,(0,n.Z)({},A,{children:C&&"end"===S?H:w}))]}))});t.Z=_},77614:function(e,t,r){"use strict";r.d(t,{F:function(){return n}});var o=r(18587);function n(e){return(0,o.d6)("MuiButton",e)}let a=(0,o.sI)("MuiButton",["root","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","focusVisible","disabled","sizeSm","sizeMd","sizeLg","fullWidth","startDecorator","endDecorator","loading","loadingIndicatorCenter"]);t.Z=a},45825:function(e,t,r){Promise.resolve().then(r.bind(r,93768))},93768:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var o=r(9268),n=r(89081),a=r(86006),i=r(90545),l=r(77614),s=r(53113),c=r(35086),d=r(53047),u=r(54842),v=r(67830),m=r(19700),g=r(92391),f=r(78915),p=r(56008);function h(){var e;let t=g.z.object({query:g.z.string().min(1)}),r=(0,p.useRouter)(),[h,x]=(0,a.useState)(!1),y=(0,m.cI)({resolver:(0,v.F)(t),defaultValues:{}}),{data:Z}=(0,n.Z)(async()=>await (0,f.K)("/v1/chat/dialogue/scenes")),b=async e=>{let{query:t}=e;try{var o,n;x(!0),y.reset();let e=await (0,f.K)("/v1/chat/dialogue/new",{chat_mode:"chat_normal"});(null==e?void 0:e.success)&&(null==e?void 0:null===(o=e.data)||void 0===o?void 0:o.conv_uid)&&r.push("/chat?id=".concat(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.conv_uid,"&initMessage=").concat(t))}catch(e){}finally{x(!1)}};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"mx-auto justify-end flex max-w-3xl flex-col h-3/4 gap-6 px-5 pt-6 sm:gap-16 xl:max-w-4xl",children:[(0,o.jsx)("div",{className:"grid gap-8 lg:grid-cols-3",children:(0,o.jsxs)("div",{className:"lg:col-span-3",children:[(0,o.jsx)("p",{className:"mb-8 text-center text-2xl",children:"Scenes"}),(0,o.jsx)(i.Z,{className:"grid gap-2 lg:grid-cols-3 lg:gap-6",sx:{["& .".concat(l.Z.root)]:{color:"var(--joy-palette-primary-solidColor)",backgroundColor:"var(--joy-palette-primary-solidBg)",height:"52px","&: hover":{backgroundColor:"var(--joy-palette-primary-solidHoverBg)"}}},children:null==Z?void 0:null===(e=Z.data)||void 0===e?void 0:e.map(e=>(0,o.jsx)(s.Z,{size:"md",variant:"solid",className:"text-base rounded-none ",onClick:async()=>{var t,o;let n=await (0,f.K)("/v1/chat/dialogue/new",{chat_mode:e.chat_scene});(null==n?void 0:n.success)&&(null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.conv_uid)&&r.push("/chat?id=".concat(null==n?void 0:null===(o=n.data)||void 0===o?void 0:o.conv_uid,"&scene=").concat(e.chat_scene))},children:e.scene_name},e.chat_scene))})]})}),(0,o.jsx)("div",{className:"mt-6 pointer-events-none inset-x-0 bottom-0 z-0 mx-auto flex w-full max-w-3xl flex-col items-center justify-center max-md:border-t xl:max-w-4xl [&>*]:pointer-events-auto",children:(0,o.jsx)("form",{style:{maxWidth:"100%",width:"100%",position:"relative",display:"flex",marginTop:"auto",overflow:"visible",background:"none",justifyContent:"center",marginLeft:"auto",marginRight:"auto"},onSubmit:e=>{y.handleSubmit(b)(e)},children:(0,o.jsx)(c.ZP,{sx:{width:"100%"},variant:"outlined",placeholder:"Ask anything",endDecorator:(0,o.jsx)(d.ZP,{type:"submit",disabled:h,children:(0,o.jsx)(u.Z,{})}),...y.register("query")})})})]})})}},78915:function(e,t,r){"use strict";r.d(t,{T:function(){return c},K:function(){return d}});var o=r(21628),n=r(24214);let a=n.Z.create({baseURL:"http://localhost:5000"});a.defaults.timeout=1e4,a.interceptors.response.use(e=>e.data,e=>Promise.reject(e));var i=r(84835);let l={"content-type":"application/json"},s=e=>{if(!(0,i.isPlainObject)(e))return JSON.stringify(e);let t={...e};for(let e in t){let r=t[e];"string"==typeof r&&(t[e]=r.trim())}return JSON.stringify(t)},c=(e,t)=>{if(t){let r=Object.keys(t).filter(e=>void 0!==t[e]&&""!==t[e]).map(e=>"".concat(e,"=").concat(t[e])).join("&");r&&(e+="?".concat(r))}return a.get("/api"+e,{headers:l}).then(e=>e).catch(e=>{o.ZP.error(e),Promise.reject(e)})},d=(e,t)=>{let r=s(t);return a.post("/api"+e,{body:r,headers:l}).then(e=>e).catch(e=>{o.ZP.error(e),Promise.reject(e)})}},83177:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=r(86006),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var o,a={},c=null,d=null;for(o in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,o)&&!s.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===a[o]&&(a[o]=t[o]);return{$$typeof:n,type:e,key:c,ref:d,props:a,_owner:l.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9268:function(e,t,r){"use strict";e.exports=r(83177)},56008:function(e,t,r){e.exports=r(30794)}},function(e){e.O(0,[180,430,577,86,562,259,253,769,744],function(){return e(e.s=45825)}),_N_E=e.O()}]);